---
description: DigitalOcean droplet configuration and n8n setup documentation
---

# DigitalOcean n8n Droplet Configuration

## Droplet Overview

**Name:** `n8n-automatic`  
**ID:** `509799883`  
**Status:** Active  
**Created:** July 24, 2025

## Server Specifications

- **Size:** `s-1vcpu-1gb-amd` (Basic AMD)
- **CPU:** 1 vCPU
- **Memory:** 1 GB RAM
- **Storage:** 25 GB SSD (local disk)
- **Monthly Cost:** $7.18/month ($7.00 droplet + $0.18 weekly backups)
- **Region:** New York 1 (nyc1)

## Network Configuration

- **Public IP:** `167.99.238.145`
- **Private IP:** `10.116.0.2`
- **Domain:** `https://n8n.automatic.so`
- **SSL:** Managed by Caddy (auto-renewal)

## n8n Docker Setup

### Architecture

- **Docker Compose** setup with Caddy reverse proxy
- **Location:** `/home/flynndavid/n8n-docker-caddy/`
- **Configuration:** `docker-compose.yml` + `.env` file
- **Data Persistence:** External Docker volumes

### Current Version

- **n8n Version:** 1.108.1 (updated August 26, 2025)
- **Image:** `docker.n8n.io/n8nio/n8n` (official, no version pinning)
- **Caddy:** `caddy:latest`
- **Watchtower:** 1.7.1 (auto-updater)

### Docker Volumes

- `n8n_data`: Stores workflows, credentials, executions, user data
- `caddy_data`: Stores SSL certificates and Caddy configuration

### Environment Configuration

```bash
# From /home/flynndavid/n8n-docker-caddy/.env
DATA_FOLDER=/home/flynndavid/n8n-docker-caddy
DOMAIN_NAME=automatic.so
SUBDOMAIN=n8n
GENERIC_TIMEZONE=America/Chicago
SSL_EMAIL=david@automatic.so
```

## Automatic Updates (Watchtower)

### Setup Status

✅ **Watchtower Installed:** August 26, 2025  
✅ **Container ID:** `fc3599f3d533`  
✅ **Schedule:** Daily at 2:00 AM UTC  
✅ **Monitoring:** Only n8n and Caddy containers

### Watchtower Configuration

```bash
# Container name: watchtower
# Schedule: "0 0 2 * * *" (daily at 2:00 AM UTC)
# Features: --cleanup, --notifications-level info
# Restart policy: unless-stopped
```

### Management Commands

```bash
# Check Watchtower status
docker logs watchtower

# Stop auto-updates temporarily
docker stop watchtower

# Resume auto-updates
docker start watchtower

# Remove Watchtower completely
docker rm -f watchtower
```

## Manual Update Process (if needed)

### Safe Update Procedure

```bash
# Navigate to compose directory
cd /home/flynndavid/n8n-docker-caddy/

# Pull latest images
docker compose pull

# Stop containers
docker compose down

# Start with updated images
docker compose up -d

# Verify version
docker exec n8n-docker-caddy-n8n-1 n8n --version
```

## Backup Strategy

### Automatic Backups

- **DigitalOcean Weekly Backups:** Enabled (August 26, 2025)
- **Cost:** ~$0.18/month (10% of droplet cost, weekly schedule)
- **Retention:** Multiple backup points maintained by DigitalOcean
- **Management:** Via DigitalOcean dashboard or MCP tools

### Manual Snapshots

- **Pre-update snapshots:** Use DigitalOcean MCP tools
- **Volume Persistence:** `n8n_data` and `caddy_data` volumes persist across container updates
- **Workflow Export:** Additional backup via n8n UI (Settings → Import/Export)

### Recent Snapshots

- **Pre-update snapshot:** ID `2771711547` (August 26, 2025)

## Access Methods

### Web Console

- DigitalOcean dashboard → droplet → Console tab → Launch Console
- No SSH setup required, browser-based terminal

### SSH Access

```bash
ssh root@167.99.238.145
```

### n8n Interface

- **URL:** `https://n8n.automatic.so`
- **Port:** 5678 (internal), 443 (external via Caddy)

## Active Workflows

- **HomeFax 1.0** (ID: pojnzMYl8EoSL6dV)
- **HomeFax 3.0** (ID: uJ2pbqxhY8BFpKOr)

## Key File Locations

- **Docker Compose:** `/home/flynndavid/n8n-docker-caddy/docker-compose.yml`
- **Environment:** `/home/flynndavid/n8n-docker-caddy/.env`
- **Caddy Config:** `/home/flynndavid/n8n-docker-caddy/caddy_config/`
- **n8n Data:** Docker volume `n8n_data` (mounted to `/home/node/.n8n`)

## DigitalOcean MCP Tools Available

- **Snapshots:** `mcp_digitalocean_snapshot-droplet`
- **Restore:** `mcp_digitalocean_restore-droplet`
- **Monitor:** `mcp_digitalocean_droplet-get`
- **Backups:** `mcp_digitalocean_enable-backups-droplet`, `mcp_digitalocean_disable-backups-droplet`
- **Management:** Various droplet lifecycle tools

## System Status

- **Droplet agent enabled** for monitoring
- **Private networking enabled**
- **Base image:** "Docker on Ubuntu 22.04" (retired but functional)
- **Automatic backups:** ✅ Enabled (weekly)
- **Automatic updates:** ✅ Enabled (daily checks at 2:00 AM UTC)
- **SSL certificates:** Auto-renewing via Caddy
- **Firewall:** UFW enabled (ports 22, 2375, 2376 open)

## Maintenance Notes

- **System restart required:** Ubuntu updates pending (non-critical)
- **Docker compose warnings:** `version` attribute obsolete (harmless)
- **Rate limiting warnings:** X-Forwarded-For header warnings (harmless, proxy-related)
- **Next auto-update check:** Daily at 2:00 AM UTC
- **Last successful update:** August 26, 2025 (1.107.3 → 1.108.1)
